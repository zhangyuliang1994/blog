---
title: 4.10 API å¼€å‘å®æˆ˜æ•™ç¨‹
description: ä»APIåŸºç¡€åˆ°å¤©æ°”é¢„æŠ¥ç½‘ç«™å®æˆ˜å¼€å‘
order: 36
---

# 4.10 ğŸ”Œ API å¼€å‘å®æˆ˜æ•™ç¨‹

<video controls width="100%" style={{maxWidth: '800px'}}>
  <source src="https://minio.xiaofeng.show/ai-code/4.10.mp4" type="video/mp4" />
  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ ‡ç­¾ã€‚
</video>

# APIå¼€å‘å…¥é—¨æŒ‡å—

æœ¬æ•™ç¨‹å°†æŒ‡å¯¼ä½ å¦‚ä½•ä½¿ç”¨å…è´¹å¤©æ°”APIæ„å»ºä¸€ä¸ªå®ç”¨çš„å¤©æ°”é¢„æŠ¥ç½‘ç«™ï¼Œä»APIæ¦‚å¿µè®²è§£åˆ°å®é™…é¡¹ç›®å®ç°ã€‚

---

### **APIå¼€å‘å®æˆ˜ï¼šå¤©æ°”é¢„æŠ¥ç½‘ç«™**

**ç›®æ ‡**ï¼šå­¦ä¹ APIçš„åŸºæœ¬æ¦‚å¿µï¼Œå¹¶ä½¿ç”¨å…è´¹å¤©æ°”APIæ„å»ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å¤©æ°”é¢„æŠ¥ç½‘ç«™ã€‚

---

### **ä¸€ã€ä»€ä¹ˆæ˜¯APIï¼Ÿ**

- **API**ï¼ˆåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼‰æ˜¯è½¯ä»¶ä¹‹é—´é€šä¿¡çš„æ¡¥æ¢
- **æ ¸å¿ƒæ¦‚å¿µ**ï¼š
âœ… **è¯·æ±‚-å“åº”æ¨¡å¼**ï¼ˆå®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›æ•°æ®ï¼‰
âœ… **æ•°æ®æ ¼å¼**ï¼ˆé€šå¸¸æ˜¯JSONæˆ–XMLï¼‰
âœ… **è®¤è¯æœºåˆ¶**ï¼ˆAPIå¯†é’¥ã€OAuthç­‰ï¼‰
âœ… **ç«¯ç‚¹**ï¼ˆAPIçš„å…·ä½“åŠŸèƒ½åœ°å€ï¼‰

### APIæ”¶é›†ç«™

| åç§° | é“¾æ¥ | æè¿° |
| --- | --- | --- |
| Random API | https://randomapi.pages.dev/ | éšæœºAPIèµ„æºé›†åˆ |
| Public APIs | https://publicapis.io/ | å…¬å…±APIç›®å½• |
| Public APIs IO | https://public-apis.io/ | å¦ä¸€ä¸ªå…¬å…±APIèµ„æºåº“ |
| Free Public APIs | https://www.freepublicapis.com/ | å…è´¹å…¬å…±APIé›†åˆ |
| GitHub Public APIs | https://github.com/public-apis/public-apis | GitHubä¸Šæœ€å—æ¬¢è¿çš„å…¬å…±APIé›†åˆ |
| Public API Lists | https://github.com/public-api-lists/public-api-lists | å…¬å…±APIåˆ—è¡¨é›†åˆ |
| N0shake Public APIs | https://github.com/n0shake/Public-APIs | å¦ä¸€ä¸ªGitHubä¸Šçš„APIèµ„æºåº“ |
| No Code API | https://nocodeapi.com/ | æ— ä»£ç APIè§£å†³æ–¹æ¡ˆ |
| API Tracker | https://apitracker.io/ | APIè·Ÿè¸ªå’Œå‘ç°å¹³å° |
| RapidAPI Collections | https://rapidapi.com/collections | RapidAPIçš„APIé›†åˆï¼Œæä¾›å¤§é‡å¯ç”¨çš„APIèµ„æº |
| APIList.fun | https://apilist.fun/ | æœ‰è¶£ä¸”å®ç”¨çš„APIèµ„æºåˆ—è¡¨ |
| Apify | https://apify.com/ | å¼ºå¤§çš„ç½‘ç»œçˆ¬è™«å’Œè‡ªåŠ¨åŒ–å¹³å°ï¼Œæä¾›ä¸°å¯Œçš„APIå’Œæ•°æ®æŠ“å–æœåŠ¡ |

---

### **äºŒã€å¤©æ°”APIä»‹ç»**

1. **å¸¸ç”¨å…è´¹å¤©æ°”API**ï¼š
    - [Open-Meteo](https://open-meteo.com/)ï¼ˆå®Œå…¨å…è´¹ï¼Œæ— éœ€APIå¯†é’¥ï¼Œéå•†ä¸šç”¨é€”ï¼‰
    - [WeatherAPI](https://www.weatherapi.com/)ï¼ˆæä¾›è¯¦ç»†å¤©æ°”æ•°æ®ï¼Œæœ‰å…è´¹å¥—é¤ï¼‰
    - [AccuWeather](https://developer.accuweather.com/)ï¼ˆæ•°æ®ç²¾ç¡®ï¼Œä¸“ä¸šçº§åˆ«ï¼‰
    - [Weatherbit](https://www.weatherbit.io/)ï¼ˆå…¨çƒè¦†ç›–ï¼Œå¤šç§æ•°æ®ç±»å‹ï¼‰
2. **APIé€‰æ‹©è€ƒè™‘å› ç´ **ï¼š
    - æ•°æ®ç²¾ç¡®åº¦å’Œæ›´æ–°é¢‘ç‡
    - ä»·æ ¼å’Œè¯·æ±‚é™åˆ¶
    - æ”¯æŒçš„æ•°æ®ç±»å‹ï¼ˆå½“å‰å¤©æ°”ã€é¢„æŠ¥ã€å†å²æ•°æ®ç­‰ï¼‰
    - æ–‡æ¡£è´¨é‡å’Œå¼€å‘è€…æ”¯æŒ

---

### **ä¸‰ã€ä½¿ç”¨Open-Meteo API**

1. **Open-Meteo APIç‰¹ç‚¹**ï¼š
    - å®Œå…¨å…è´¹ï¼Œæ— éœ€APIå¯†é’¥ï¼ˆéå•†ä¸šç”¨é€”ï¼‰
    - å…¨çƒé«˜åˆ†è¾¨ç‡å¤©æ°”æ•°æ®ï¼ˆ1-11å…¬é‡Œåˆ†è¾¨ç‡ï¼‰
    - å“åº”é€Ÿåº¦å¿«ï¼ˆé€šå¸¸åœ¨10æ¯«ç§’ä»¥å†…ï¼‰
    - æ”¯æŒå½“å‰å¤©æ°”ã€æ¯å°æ—¶å’Œæ¯æ—¥é¢„æŠ¥
    - æ•°æ®æ¥æºäºå„å›½æ°”è±¡æœåŠ¡æœºæ„
2. **APIä½¿ç”¨é™åˆ¶**ï¼š
    - éå•†ä¸šç”¨é€”å…è´¹
    - æ¯æ—¥APIè°ƒç”¨é™åˆ¶ä¸º10,000æ¬¡
    - å•†ä¸šç”¨é€”éœ€è¦ä»˜è´¹è®¸å¯

---

### **å››ã€APIåŸºç¡€è¯·æ±‚æ–¹æ³•**

### **1. ä½¿ç”¨æµè§ˆå™¨æµ‹è¯•API**

`https://api.open-meteo.com/v1/forecast?latitude=39.9042&longitude=116.4074&current=temperature_2m,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto`

- æ— éœ€APIå¯†é’¥
- `latitude=39.9042&longitude=116.4074`æŒ‡å®šåŒ—äº¬çš„åæ ‡
- `current=temperature_2m,weather_code`è·å–å½“å‰æ¸©åº¦å’Œå¤©æ°”ä»£ç 
- `daily=weather_code,temperature_2m_max,temperature_2m_min`è·å–æ¯æ—¥å¤©æ°”é¢„æŠ¥
- `timezone=auto`è‡ªåŠ¨æ£€æµ‹æ—¶åŒº

### **2. ä½¿ç”¨JavaScriptè·å–æ•°æ®**

```
// åŸºæœ¬çš„APIè¯·æ±‚å‡½æ•° async function getWeather(latitude, longitude) {  const url = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto`;   
 try {  const response = await fetch(url);  const data = await response.json();  return data;  } catch (error) {  console.error('è·å–å¤©æ°”æ•°æ®å¤±è´¥:', error);  } } 
// è°ƒç”¨å‡½æ•° getWeather(39.9042, 116.4074).then(data => {  console.log(data); });
```

---

### **äº”ã€æ„å»ºå¤©æ°”é¢„æŠ¥ç½‘ç«™**

### **1. é¡¹ç›®è®¾ç½®**

- åˆ›å»ºåŸºæœ¬çš„HTML/CSS/JSæ–‡ä»¶ç»“æ„ï¼ˆå‚è€ƒ[ç½‘ç«™åŸºç¡€æ•™ç¨‹](chrome-extension://ldmmifpegigmeammaeckplhnjbbpccmm/guide/getting-started/html)ï¼‰
- æˆ–ä½¿ç”¨Next.jsæ¡†æ¶ï¼ˆå‚è€ƒ[Next.jså¼€å‘æŒ‡å—](chrome-extension://ldmmifpegigmeammaeckplhnjbbpccmm/guide/getting-started/nextjs)ï¼‰

### **2. æ ¸å¿ƒåŠŸèƒ½å®ç°**

**HTMLç»“æ„**ï¼š

```
<!DOCTYPE html> <html lang="zh-CN"> <head>  <meta charset="UTF-8">  <meta name="viewport" content="width=device-width, initial-scale=1.0">  <title>å¤©æ°”é¢„æŠ¥</title>  <link rel="stylesheet" href="style.css"> </head> <body>  <div class="container">  <h1>å¤©æ°”é¢„æŠ¥</h1>     
 <div class="search-box">  <input type="text" id="city-input" placeholder="è¾“å…¥åŸå¸‚åç§°...">  <button id="search-btn">æœç´¢</button>  </div>     
 <div class="weather-info" id="weather-info">  <!-- å¤©æ°”ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->  </div>     
 <div class="forecast" id="forecast">  <!-- æœªæ¥å¤©æ°”é¢„æŠ¥å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->  </div>  </div> 
 <script src="app.js"></script> </body> </html>
```

**JavaScriptå®ç°**ï¼š

```
// è·å–DOMå…ƒç´  const cityInput = document.getElementById('city-input'); const searchBtn = document.getElementById('search-btn'); const weatherInfo = document.getElementById('weather-info'); const forecast = document.getElementById('forecast'); 
// æ·»åŠ æœç´¢æŒ‰é’®äº‹ä»¶ç›‘å¬ searchBtn.addEventListener('click', () => {  const city = cityInput.value.trim();  if (city) {  getCoordinates(city);  } }); 
// è·å–åŸå¸‚åæ ‡ async function getCoordinates(city) {  const url = `https://geocoding-api.open-meteo.com/v1/search?name=${city}&count=1&language=zh`;   
 try {  const response = await fetch(url);  const data = await response.json();     
 if (data.results && data.results.length > 0) {  const { latitude, longitude, name, country } = data.results[0];  getWeatherData(latitude, longitude, name, country);  } else {  weatherInfo.innerHTML = `<p class="error">åŸå¸‚æœªæ‰¾åˆ°ï¼Œè¯·æ£€æŸ¥æ‹¼å†™</p>`;  forecast.innerHTML = '';  }  } catch (error) {  weatherInfo.innerHTML = `<p class="error">è·å–åŸå¸‚æ•°æ®å¤±è´¥</p>`;  console.error(error);  } } 
// è·å–å¤©æ°”æ•°æ® async function getWeatherData(latitude, longitude, cityName, country) {  const url = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m,wind_direction_10m&daily=weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset&timezone=auto`;   
 try {  const response = await fetch(url);  const data = await response.json();     
 displayCurrentWeather(data, cityName, country);  displayForecast(data);  } catch (error) {  weatherInfo.innerHTML = `<p class="error">è·å–å¤©æ°”æ•°æ®å¤±è´¥</p>`;  forecast.innerHTML = '';  console.error(error);  } } 
// æ˜¾ç¤ºå½“å‰å¤©æ°” function displayCurrentWeather(data, cityName, country) {  const { current, current_units } = data;   
 // è·å–å¤©æ°”ä»£ç å¯¹åº”çš„æè¿°  const weatherDescription = getWeatherDescription(current.weather_code);   
 weatherInfo.innerHTML = `  <h2>${cityName}, ${country}</h2>  <div class="weather-main">  <img src="${getWeatherIcon(current.weather_code)}" alt="${weatherDescription}">  <p class="temp">${Math.round(current.temperature_2m)}${current_units.temperature_2m}</p>  </div>  <p class="description">${weatherDescription}</p>  <div class="details">  <p>ä½“æ„Ÿæ¸©åº¦: ${Math.round(current.apparent_temperature)}${current_units.apparent_temperature}</p>  <p>æ¹¿åº¦: ${current.relative_humidity_2m}${current_units.relative_humidity_2m}</p>  <p>é£é€Ÿ: ${current.wind_speed_10m} ${current_units.wind_speed_10m}</p>  <p>é£å‘: ${getWindDirection(current.wind_direction_10m)}</p>  </div>  `; } 
// æ˜¾ç¤ºå¤©æ°”é¢„æŠ¥ function displayForecast(data) {  const { daily, daily_units } = data;   
 let forecastHTML = '<h2>7å¤©é¢„æŠ¥</h2><div class="forecast-container">';   
 // éå†æ¯å¤©çš„é¢„æŠ¥æ•°æ®  for (let i = 0; i < daily.time.length; i++) {  const date = new Date(daily.time[i]).toLocaleDateString('zh-CN', { weekday: 'short', month: 'short', day: 'numeric' });  const weatherCode = daily.weather_code[i];  const maxTemp = Math.round(daily.temperature_2m_max[i]);  const minTemp = Math.round(daily.temperature_2m_min[i]);  const weatherDescription = getWeatherDescription(weatherCode);     
 forecastHTML += `  <div class="forecast-day"> <p class="date">${date}</p>
 <img src="${getWeatherIcon(weatherCode)}" alt="${weatherDescription}">
 <p class="temp-max">${maxTemp}${daily_units.temperature_2m_max}</p>
 <p class="temp-min">${minTemp}${daily_units.temperature_2m_min}</p>
 <p class="description">${weatherDescription}</p>
 </div> `;  }   
 forecastHTML += '</div>';  forecast.innerHTML = forecastHTML; } 
// è·å–å¤©æ°”ä»£ç å¯¹åº”çš„æè¿° function getWeatherDescription(code) {  const weatherCodes = {  0: 'æ™´æœ—',  1: 'å¤§éƒ¨åˆ†æ™´æœ—',  2: 'éƒ¨åˆ†å¤šäº‘',  3: 'é˜´å¤©',  45: 'é›¾',  48: 'æ²‰ç§¯é›¾',  51: 'å°æ¯›æ¯›é›¨',  53: 'ä¸­æ¯›æ¯›é›¨',  55: 'å¤§æ¯›æ¯›é›¨',  56: 'å°å†»é›¨',  57: 'å¤§å†»é›¨',  61: 'å°é›¨',  63: 'ä¸­é›¨',  65: 'å¤§é›¨',  66: 'å°å†»é›¨',  67: 'å¤§å†»é›¨',  71: 'å°é›ª',  73: 'ä¸­é›ª',  75: 'å¤§é›ª',  77: 'é›ªç²’',  80: 'å°é˜µé›¨',  81: 'ä¸­é˜µé›¨',  82: 'å¤§é˜µé›¨',  85: 'å°é˜µé›ª',  86: 'å¤§é˜µé›ª',  95: 'é›·æš´',  96: 'é›·æš´ä¼´æœ‰å°å†°é›¹',  99: 'é›·æš´ä¼´æœ‰å¤§å†°é›¹'  };   
 return weatherCodes[code] || 'æœªçŸ¥å¤©æ°”'; } 
// è·å–å¤©æ°”å›¾æ ‡URL function getWeatherIcon(code) {  // è¿™é‡Œä½¿ç”¨ç®€å•çš„å›¾æ ‡æ˜ å°„ï¼Œå®é™…é¡¹ç›®ä¸­å¯ä»¥ä½¿ç”¨æ›´ç²¾ç¾çš„å›¾æ ‡  const iconMap = {  0: 'https://openweathermap.org/img/wn/01d@2x.png', // æ™´æœ—  1: 'https://openweathermap.org/img/wn/02d@2x.png', // å¤§éƒ¨åˆ†æ™´æœ—  2: 'https://openweathermap.org/img/wn/03d@2x.png', // éƒ¨åˆ†å¤šäº‘  3: 'https://openweathermap.org/img/wn/04d@2x.png', // é˜´å¤©  45: 'https://openweathermap.org/img/wn/50d@2x.png', // é›¾  48: 'https://openweathermap.org/img/wn/50d@2x.png', // æ²‰ç§¯é›¾  51: 'https://openweathermap.org/img/wn/09d@2x.png', // å°æ¯›æ¯›é›¨  53: 'https://openweathermap.org/img/wn/09d@2x.png', // ä¸­æ¯›æ¯›é›¨  55: 'https://openweathermap.org/img/wn/09d@2x.png', // å¤§æ¯›æ¯›é›¨  56: 'https://openweathermap.org/img/wn/09d@2x.png', // å°å†»é›¨  57: 'https://openweathermap.org/img/wn/09d@2x.png', // å¤§å†»é›¨  61: 'https://openweathermap.org/img/wn/10d@2x.png', // å°é›¨  63: 'https://openweathermap.org/img/wn/10d@2x.png', // ä¸­é›¨  65: 'https://openweathermap.org/img/wn/10d@2x.png', // å¤§é›¨  66: 'https://openweathermap.org/img/wn/10d@2x.png', // å°å†»é›¨  67: 'https://openweathermap.org/img/wn/10d@2x.png', // å¤§å†»é›¨  71: 'https://openweathermap.org/img/wn/13d@2x.png', // å°é›ª  73: 'https://openweathermap.org/img/wn/13d@2x.png', // ä¸­é›ª  75: 'https://openweathermap.org/img/wn/13d@2x.png', // å¤§é›ª  77: 'https://openweathermap.org/img/wn/13d@2x.png', // é›ªç²’  80: 'https://openweathermap.org/img/wn/09d@2x.png', // å°é˜µé›¨  81: 'https://openweathermap.org/img/wn/09d@2x.png', // ä¸­é˜µé›¨  82: 'https://openweathermap.org/img/wn/09d@2x.png', // å¤§é˜µé›¨  85: 'https://openweathermap.org/img/wn/13d@2x.png', // å°é˜µé›ª  86: 'https://openweathermap.org/img/wn/13d@2x.png', // å¤§é˜µé›ª  95: 'https://openweathermap.org/img/wn/11d@2x.png', // é›·æš´  96: 'https://openweathermap.org/img/wn/11d@2x.png', // é›·æš´ä¼´æœ‰å°å†°é›¹  99: 'https://openweathermap.org/img/wn/11d@2x.png' // é›·æš´ä¼´æœ‰å¤§å†°é›¹  };   
 return iconMap[code] || 'https://openweathermap.org/img/wn/01d@2x.png'; } 
// è·å–é£å‘æè¿° function getWindDirection(degrees) {  const directions = ['åŒ—', 'ä¸œåŒ—', 'ä¸œ', 'ä¸œå—', 'å—', 'è¥¿å—', 'è¥¿', 'è¥¿åŒ—'];  const index = Math.round(degrees / 45) % 8;  return directions[index]; }
```

---

### **å…­ã€APIå®‰å…¨ä¸æœ€ä½³å®è·µ**

### **1. å‰ç«¯ç›´æ¥è°ƒç”¨APIçš„ä¼˜ç¼ºç‚¹**

- **ä¼˜ç‚¹**ï¼š
    - Open-Meteo APIæ— éœ€APIå¯†é’¥ï¼Œå¯ä»¥ç›´æ¥åœ¨å‰ç«¯è°ƒç”¨
    - å®ç°ç®€å•ï¼Œæ— éœ€åç«¯æœåŠ¡
- **ç¼ºç‚¹**ï¼š
    - æ— æ³•æ·»åŠ è‡ªå®šä¹‰ç¼“å­˜æœºåˆ¶
    - æ— æ³•æ·»åŠ é¢å¤–çš„æ•°æ®å¤„ç†é€»è¾‘
    - æ— æ³•éšè—APIè°ƒç”¨ç»†èŠ‚

### **2. åˆ›å»ºAPIä»£ç†ç¤ºä¾‹ï¼ˆNode.jsï¼‰**

```
// server.js const express = require('express'); const cors = require('cors'); const axios = require('axios'); require('dotenv').config(); 
const app = express(); const PORT = process.env.PORT || 3001; 
// ä¸­é—´ä»¶ app.use(cors()); app.use(express.json()); app.use(express.static('public')); 
// ä»£ç†åœ°ç†ç¼–ç APIè¯·æ±‚ app.get('/api/geocoding', async (req, res) => {  const { city } = req.query;   
 if (!city) {  return res.status(400).json({ error: 'è¯·æä¾›åŸå¸‚åç§°' });  }   
 try {  const response = await axios.get(`https://geocoding-api.open-meteo.com/v1/search`, {  params: {  name: city,  count: 1,  language: 'zh'  }  });     
 res.json(response.data);  } catch (error) {  res.status(error.response?.status || 500).json({  error: error.response?.data?.message || 'æœåŠ¡å™¨é”™è¯¯'  });  } }); 
// ä»£ç†å¤©æ°”APIè¯·æ±‚ app.get('/api/weather', async (req, res) => {  const { latitude, longitude } = req.query;   
 if (!latitude || !longitude) {  return res.status(400).json({ error: 'è¯·æä¾›ç»çº¬åº¦åæ ‡' });  }   
 try {  const response = await axios.get(`https://api.open-meteo.com/v1/forecast`, {  params: {  latitude,  longitude,  current: 'temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m,wind_direction_10m',  daily: 'weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset',  timezone: 'auto'  }  });     
 res.json(response.data);  } catch (error) {  res.status(error.response?.status || 500).json({  error: error.response?.data?.message || 'æœåŠ¡å™¨é”™è¯¯'  });  } }); 
app.listen(PORT, () => {  console.log(`æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:${PORT}`); });
```

### **3. å‰ç«¯è°ƒç”¨ä»£ç†API**

```
// ä¿®æ”¹å‰ç«¯ä»£ç ä¸­çš„APIè°ƒç”¨ async function getCoordinates(city) {  const url = `/api/geocoding?city=${encodeURIComponent(city)}`;   
 try {  const response = await fetch(url);  const data = await response.json();     
 if (data.results && data.results.length > 0) {  const { latitude, longitude, name, country } = data.results[0];  getWeatherData(latitude, longitude, name, country);  } else {  weatherInfo.innerHTML = `<p class="error">åŸå¸‚æœªæ‰¾åˆ°ï¼Œè¯·æ£€æŸ¥æ‹¼å†™</p>`;  forecast.innerHTML = '';  }  } catch (error) {  weatherInfo.innerHTML = `<p class="error">è·å–åŸå¸‚æ•°æ®å¤±è´¥</p>`;  console.error(error);  } } 
async function getWeatherData(latitude, longitude, cityName, country) {  const url = `/api/weather?latitude=${latitude}&longitude=${longitude}`;   
 try {  const response = await fetch(url);  const data = await response.json();     
 displayCurrentWeather(data, cityName, country);  displayForecast(data);  } catch (error) {  weatherInfo.innerHTML = `<p class="error">è·å–å¤©æ°”æ•°æ®å¤±è´¥</p>`;  forecast.innerHTML = '';  console.error(error);  } }
```

---

### **ä¸ƒã€éƒ¨ç½²é¡¹ç›®**

1. **ä½¿ç”¨Verceléƒ¨ç½²**ï¼š
    - å°†é¡¹ç›®æ¨é€åˆ°GitHubä»“åº“
    - æŒ‰ç…§[Verceléƒ¨ç½²æŒ‡å—](chrome-extension://ldmmifpegigmeammaeckplhnjbbpccmm/guide/getting-started/vercel)éƒ¨ç½²é¡¹ç›®
    - æ— éœ€è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆOpen-Meteoä¸éœ€è¦APIå¯†é’¥ï¼‰
2. **ä½¿ç”¨Cloudflareéƒ¨ç½²**ï¼š
    - å‚è€ƒ[Cloudflareæ•™ç¨‹](chrome-extension://ldmmifpegigmeammaeckplhnjbbpccmm/guide/getting-started/cloudflare)éƒ¨ç½²é¡¹ç›®
    - å¯ä»¥ä½¿ç”¨Cloudflare Workersä½œä¸ºAPIä»£ç†

---

### **å…«ã€è¿›é˜¶åŠŸèƒ½æ‰©å±•**

1. **åœ°ç†å®šä½åŠŸèƒ½**ï¼š

```
// è·å–ç”¨æˆ·å½“å‰ä½ç½® function getUserLocation() {  if (navigator.geolocation) {  navigator.geolocation.getCurrentPosition(  position => {  const { latitude, longitude } = position.coords;  // ä½¿ç”¨åæ ‡è·å–å¤©æ°”æ•°æ®  getWeatherData(latitude, longitude, "å½“å‰ä½ç½®", "");  // å¯é€‰ï¼šåå‘åœ°ç†ç¼–ç è·å–ä½ç½®åç§°  getReverseGeocoding(latitude, longitude);  },  error => {  console.error('æ— æ³•è·å–ä½ç½®:', error);  weatherInfo.innerHTML = `<p class="error">æ— æ³•è·å–æ‚¨çš„ä½ç½®ï¼Œè¯·æ‰‹åŠ¨æœç´¢</p>`;  }  );  } else {  weatherInfo.innerHTML = `<p class="error">æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒåœ°ç†å®šä½</p>`;  } } 
// åå‘åœ°ç†ç¼–ç ï¼ˆéœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ŒOpen-Meteoä¸æä¾›æ­¤åŠŸèƒ½ï¼‰ async function getReverseGeocoding(latitude, longitude) {  // è¿™é‡Œå¯ä»¥ä½¿ç”¨å…¶ä»–å…è´¹çš„åå‘åœ°ç†ç¼–ç æœåŠ¡  // ä¾‹å¦‚ï¼šOpenStreetMap Nominatim API }
```

1. **å¤©æ°”å›¾è¡¨**ï¼š
    - ä½¿ç”¨Chart.jsç»˜åˆ¶æ¸©åº¦ã€æ¹¿åº¦å˜åŒ–å›¾è¡¨
    - æ˜¾ç¤º24å°æ—¶è¯¦ç»†é¢„æŠ¥
2. **å¤šè¯­è¨€æ”¯æŒ**ï¼š
    - æ·»åŠ è¯­è¨€åˆ‡æ¢åŠŸèƒ½
    - ä½¿ç”¨Open-Meteoçš„è¯­è¨€å‚æ•°è·å–ä¸åŒè¯­è¨€çš„æ•°æ®

---

### **ä¹ã€APIå¯†é’¥ç¯å¢ƒå˜é‡é…ç½®**

è™½ç„¶Open-Meteo APIä¸éœ€è¦APIå¯†é’¥ï¼Œä½†å¤§å¤šæ•°å¤©æ°”APIï¼ˆå¦‚OpenWeatherMapã€WeatherAPIç­‰ï¼‰éƒ½éœ€è¦å¯†é’¥è¿›è¡Œè®¤è¯ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•å®‰å…¨åœ°ç®¡ç†APIå¯†é’¥çš„æ–¹æ³•ï¼š

### **1. æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®**

- **åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶**ï¼š
    - åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.env`æ–‡ä»¶
    - æ·»åŠ APIå¯†é’¥ï¼š`WEATHER_API_KEY=your_api_key_here`
    - å°†`.env`æ·»åŠ åˆ°`.gitignore`æ–‡ä»¶ä¸­ï¼Œé¿å…å°†å¯†é’¥æäº¤åˆ°ä»£ç ä»“åº“
- **åœ¨Node.js/Expressä¸­ä½¿ç”¨**ï¼š
    
    ```
    // åŠ è½½ç¯å¢ƒå˜é‡ require('dotenv').config(); 
    // è·å–APIå¯†é’¥ const API_KEY = process.env.WEATHER_API_KEY;
    ```
    
- **åœ¨Next.jsä¸­ä½¿ç”¨**ï¼š
    
    `// åœ¨APIè·¯ç”±æˆ–æœåŠ¡å™¨ç«¯ç»„ä»¶ä¸­ const API_KEY = process.env.WEATHER_API_KEY;`
    

### **2. Verceléƒ¨ç½²ç¯å¢ƒé…ç½®**

1. **æ·»åŠ ç¯å¢ƒå˜é‡**ï¼š
    - ç™»å½•Vercelè´¦æˆ·å¹¶è¿›å…¥é¡¹ç›®
    - ç‚¹å‡»"Settings" â†’ "Environment Variables"
    - æ·»åŠ å˜é‡å`WEATHER_API_KEY`å’Œå¯¹åº”çš„å€¼
    - é€‰æ‹©åº”ç”¨ç¯å¢ƒï¼ˆProductionã€Previewã€Developmentï¼‰
    - ä¿å­˜è®¾ç½®
2. **é‡æ–°éƒ¨ç½²**ï¼š
    - æ·»åŠ ç¯å¢ƒå˜é‡åé‡æ–°éƒ¨ç½²é¡¹ç›®
    - æˆ–æ¨é€æ–°çš„ä»£ç å˜æ›´è§¦å‘è‡ªåŠ¨éƒ¨ç½²
3. **éªŒè¯é…ç½®**ï¼š
    - éƒ¨ç½²å®Œæˆåæµ‹è¯•APIåŠŸèƒ½
    - æ£€æŸ¥åº”ç”¨æ—¥å¿—ç¡®è®¤ç¯å¢ƒå˜é‡æ­£ç¡®åŠ è½½

### **3. APIä»£ç†ç¤ºä¾‹**

```
// åç«¯APIä»£ç†ï¼ˆä¿æŠ¤APIå¯†é’¥ï¼‰ app.get('/api/weather', async (req, res) => {  const { city } = req.query;  const API_KEY = process.env.WEATHER_API_KEY;   
 try {  const response = await axios.get(`https://api.weatherapi.com/v1/forecast.json`, {  params: {  key: API_KEY,  q: city,  days: 7  }  });     
 res.json(response.data);  } catch (error) {  res.status(500).json({ error: 'è·å–å¤©æ°”æ•°æ®å¤±è´¥' });  } });
```

### **4. å®‰å…¨æœ€ä½³å®è·µ**

- **æ°¸ä¸åœ¨å‰ç«¯æš´éœ²APIå¯†é’¥**ï¼šå§‹ç»ˆä½¿ç”¨åç«¯ä»£ç†
- **é™åˆ¶APIå¯†é’¥æƒé™**ï¼šå¦‚æœAPIæä¾›å•†æ”¯æŒï¼Œè®¾ç½®æœ€å°å¿…è¦æƒé™
- **ç›‘æ§APIä½¿ç”¨æƒ…å†µ**ï¼šå®šæœŸæ£€æŸ¥APIè°ƒç”¨æ¬¡æ•°å’Œæ¨¡å¼
- **å®šæœŸè½®æ¢å¯†é’¥**ï¼šå®šæœŸæ›´æ–°APIå¯†é’¥æé«˜å®‰å…¨æ€§

---

### **åã€ç»ƒä¹ ä»»åŠ¡**

1. åŸºç¡€ä»»åŠ¡ï¼š
    - å®ç°åŸºæœ¬çš„å¤©æ°”æŸ¥è¯¢åŠŸèƒ½
    - æ·»åŠ åŸå¸‚æœç´¢å’Œæ˜¾ç¤ºå½“å‰å¤©æ°”
2. è¿›é˜¶ä»»åŠ¡ï¼š
    - æ·»åŠ 7å¤©å¤©æ°”é¢„æŠ¥åŠŸèƒ½
    - å®ç°åœ°ç†å®šä½è‡ªåŠ¨è·å–å½“åœ°å¤©æ°”
3. æŒ‘æˆ˜ä»»åŠ¡ï¼š
    - åˆ›å»ºä¸€ä¸ªåç«¯APIä»£ç†
    - æ·»åŠ å¤©æ°”å˜åŒ–è¶‹åŠ¿å›¾è¡¨
    - å®ç°å¤šåŸå¸‚å¤©æ°”æ¯”è¾ƒåŠŸèƒ½

---

æŒæ¡APIçš„ä½¿ç”¨æ˜¯ç°ä»£Webå¼€å‘çš„é‡è¦æŠ€èƒ½ï¼Œé€šè¿‡æœ¬æ•™ç¨‹çš„å¤©æ°”é¢„æŠ¥é¡¹ç›®ï¼Œä½ ä¸ä»…å­¦ä¼šäº†å¦‚ä½•è°ƒç”¨ç¬¬ä¸‰æ–¹APIï¼Œè¿˜æŒæ¡äº†APIå®‰å…¨å’Œæœ€ä½³å®è·µã€‚ç»§ç»­æ¢ç´¢æ›´å¤šAPIï¼Œå°†ä¸ºä½ çš„é¡¹ç›®å¸¦æ¥æ— é™å¯èƒ½ï¼ ğŸŒ¦ï¸ 