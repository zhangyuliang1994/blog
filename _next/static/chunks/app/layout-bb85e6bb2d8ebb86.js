(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9837:function(e,t,r){Promise.resolve().then(r.bind(r,8464)),Promise.resolve().then(r.bind(r,907)),Promise.resolve().then(r.bind(r,8440)),Promise.resolve().then(r.bind(r,6352)),Promise.resolve().then(r.bind(r,6481)),Promise.resolve().then(r.t.bind(r,6685,23)),Promise.resolve().then(r.bind(r,1229)),Promise.resolve().then(r.bind(r,1329)),Promise.resolve().then(r.t.bind(r,7881,23)),Promise.resolve().then(r.t.bind(r,5091,23))},8464:function(e,t,r){"use strict";r.r(t),r.d(t,{ThemeProviders:function(){return i}});var a=r(7437),s=r(6435),n=r(9103),l=r.n(n);function i(e){let{children:t}=e;return(0,a.jsx)(s.f,{attribute:"class",defaultTheme:l().theme,enableSystem:!0,children:t})}},1329:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(7437),s=r(9817),n=r(2265),l=r(2601);function i(){let[e,t]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{let e="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,r=window.location.hostname.includes("vercel.app")||"1"===l.env.VERCEL;t(e||!r)},[]),e)?null:(0,a.jsx)(s.c,{})}},1229:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var a=r(2265),s=r(4033);let n=["/","/about","/blog","/projects","/links","/guestbook","/tags"];function l(){let e=(0,s.useRouter)(),t=(0,s.usePathname)();return(0,a.useEffect)(()=>{n.forEach(r=>{r!==t&&e.prefetch(r)})},[t,e]),null}},6481:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var a,s,n,l,i=r(7437),o=r(9103),c=r.n(o),d=r(2601);d.env.NEXT_PUBLIC_GISCUS_REPO,d.env.NEXT_PUBLIC_GISCUS_REPOSITORY_ID,d.env.NEXT_PUBLIC_GISCUS_CATEGORY,d.env.NEXT_PUBLIC_GISCUS_CATEGORY_ID;var m=[{href:"/",title:"首页"},{href:"/blog",title:"博客"},{href:"/tags",title:"标签"},{href:"/projects",title:"项目"},{href:"/links",title:"友链"},{href:"/guestbook",title:"留言板"},{href:"/docs",title:"AI编程"},{href:"/about",title:"关于"}],h=r(2265);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var g=function(e){return h.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:53.87,height:43.61,viewBox:"344.564 330.278 111.737 91.218"},e),h.createElement("defs",null,h.createElement("linearGradient",{id:"logo_svg__b",x1:420.97,x2:420.97,y1:331.28,y2:418.5,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{offset:"0%",style:{stopColor:"#06b6d4",stopOpacity:1}}),h.createElement("stop",{offset:"100%",style:{stopColor:"#67e8f9",stopOpacity:1}})),h.createElement("linearGradient",{id:"logo_svg__d",x1:377.89,x2:377.89,y1:331.28,y2:418.5,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{offset:"0%",style:{stopColor:"#06b6d4",stopOpacity:1}}),h.createElement("stop",{offset:"100%",style:{stopColor:"#67e8f9",stopOpacity:1}})),a||(a=h.createElement("path",{id:"logo_svg__a",d:"M453.3 331.28v28.57l-64.66 58.65v-30.08z"})),s||(s=h.createElement("path",{id:"logo_svg__c",d:"M410.23 331.28v28.57l-64.67 58.65v-30.08z"}))),n||(n=h.createElement("use",{xlinkHref:"#logo_svg__a",fill:"url(#logo_svg__b)"})),l||(l=h.createElement("use",{xlinkHref:"#logo_svg__c",fill:"url(#logo_svg__d)"})))},x=r(2115),f=r(4033),p=r(8004),v=r(8796),b=()=>{let[e,t]=(0,h.useState)(!1),r=(0,f.usePathname)(),a=()=>{t(e=>(e?document.body.style.overflow="auto":document.body.style.overflow="hidden",!e))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{"aria-label":"Toggle Menu",onClick:a,className:"sm:hidden",children:(0,i.jsx)(p.Z,{size:28})}),(0,i.jsxs)("div",{className:"fixed left-0 top-0 z-10 h-full w-full transform opacity-95 dark:opacity-[0.98] bg-white duration-300 ease-in-out dark:bg-zinc-900 ".concat(e?"translate-x-0":"translate-x-full"),children:[(0,i.jsx)("div",{className:"flex justify-end mb-5",children:(0,i.jsx)("button",{className:"mr-8 mt-7 h-8 w-8","aria-label":"Toggle Menu",onClick:a,children:(0,i.jsx)(v.Z,{size:28})})}),(0,i.jsx)("div",{className:"space-y-1 px-6 mr-4",children:m.map(e=>(0,i.jsx)(x.Z,{href:e.href,onClick:a,className:"group flex p-3 w-full justify-start cursor-pointer text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100 transition ".concat(r===e.href?"bg-gray-300 dark:bg-zinc-700/60 dark:text-green-500 p-2 rounded-md":"","\n              "),children:(0,i.jsx)("div",{className:"flex items-center flex-1",children:e.title})},e.href))}),(0,i.jsx)("div",{className:"fixed bottom-3 left-1/2 transform -translate-x-1/2 bg-transparent text-white p-3 w-60",children:(0,i.jsx)("div",{className:"text-center text-base",children:(0,i.jsx)("div",{className:"p-2 bg-gray-300 dark:bg-zinc-700/60 rounded-lg -ml-10",children:(0,i.jsx)("p",{className:"font-bold text-lg dark:text-white text-black",children:"我的博客"})})})})]})]})},y=r(6914),j=r(1985),k=r(2403),w=r(1827),_=r(3577);function N(){let e=(0,f.useRouter)(),[t,r]=(0,h.useState)([]),[a,s]=(0,h.useState)(""),[n,l]=(0,h.useState)([]),[o,c]=(0,h.useState)(!1),[d,m]=(0,h.useState)(!1),u=(0,h.useRef)(null),g=(0,h.useRef)(null);(0,_.Z)(u,()=>{c(!1)}),(0,h.useEffect)(()=>{async function e(){try{m(!0);let e=await fetch("/search.json"),t=await e.json();r(t),m(!1)}catch(e){console.error("加载搜索索引失败:",e),m(!1)}}o&&e()},[o]);let x={keys:["title","tags","summary"],includeScore:!0,threshold:.4,minMatchCharLength:1,ignoreLocation:!0},p=(0,h.useCallback)(e=>{if(!e.trim()||0===t.length){l([]);return}let r=new k.Z(t,x),a=r.search(e);l(a.map(e=>e.item))},[t]),v=t=>{e.push("/".concat(t)),c(!1),s(""),l([])},b=()=>{c(!o),!o&&g.current&&setTimeout(()=>{var e;null===(e=g.current)||void 0===e||e.focus()},100)};return(0,h.useEffect)(()=>{let e=e=>{"/"!==e.key||o?"Escape"===e.key&&o&&c(!1):(e.preventDefault(),b())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[o]),(0,i.jsxs)("div",{className:"relative",ref:u,children:[(0,i.jsx)("button",{onClick:b,className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"搜索",title:"搜索文章内容 (按 / 键快速启动)",children:(0,i.jsx)(w.Z,{size:20})}),o&&(0,i.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,i.jsxs)("div",{className:"flex items-start justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0",children:[(0,i.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:()=>c(!1),children:(0,i.jsx)("div",{className:"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75"})}),(0,i.jsx)("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:(0,i.jsx)("div",{className:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,i.jsx)("div",{className:"sm:flex sm:items-start",children:(0,i.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[(0,i.jsxs)("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 pb-2",children:[(0,i.jsx)(w.Z,{className:"text-gray-500 dark:text-gray-400 mr-2",size:20}),(0,i.jsx)("input",{ref:g,type:"text",className:"w-full bg-transparent border-none focus:ring-0 outline-none text-gray-800 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"搜索文章内容...",value:a,onChange:e=>{let t=e.target.value;s(t),p(t)}})]}),(0,i.jsx)("div",{className:"mt-2 max-h-60 overflow-y-auto",children:d?(0,i.jsx)("div",{className:"py-4 text-center text-gray-500 dark:text-gray-400",children:"正在加载搜索索引..."}):n.length>0?(0,i.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.map(e=>(0,i.jsxs)("div",{className:"py-2 px-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer transition-colors",onClick:()=>v(e.path),children:[(0,i.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),e.tags&&e.tags.length>0&&(0,i.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:e.tags.map(e=>(0,i.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100",children:e},e))}),e.summary&&(0,i.jsx)("div",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400 line-clamp-2",children:e.summary})]},e.slug))}):a?(0,i.jsx)("div",{className:"py-4 text-center text-gray-500 dark:text-gray-400",children:"未找到匹配结果"}):(0,i.jsx)("div",{className:"py-4 text-center text-gray-500 dark:text-gray-400",children:"输入关键词开始搜索"})}),(0,i.jsx)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-center",children:"按 ESC 键关闭 \xb7 按 / 键打开搜索"})]})})})})]})})]})}var C=()=>c().search?"kbar"===c().search.provider?(0,i.jsx)(N,{}):"algolia"===c().search.provider?(0,i.jsx)(j.s,{"aria-label":"搜索",children:(0,i.jsx)(w.Z,{})}):null:null,E=()=>{let e=(0,f.usePathname)();return(0,i.jsx)("div",{className:"mt-3",children:(0,i.jsxs)("header",{className:"flex items-center justify-between shadow-md p-2 md:p-4 mb-8 bg-zinc-200/90 dark:bg-zinc-700/40 rounded-lg transition-colors duration-100",children:[(0,i.jsx)("div",{children:(0,i.jsx)(x.Z,{href:"/","aria-label":c().headerTitle,children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("div",{className:"mr-3",children:(0,i.jsx)(g,{})}),"string"==typeof c().headerTitle?(0,i.jsx)("div",{className:"hidden h-6 text-2xl font-semibold sm:block -mt-2",children:c().headerTitle}):c().headerTitle]})})}),(0,i.jsxs)("div",{className:"flex items-center leading-5 space-x-4 sm:space-x-4",children:[m.filter(e=>"/"!==e.href).map(t=>(0,i.jsx)(x.Z,{href:t.href,className:"hidden sm:block p-2 text-black font-extrabold text-lg dark:text-gray-100 hover:bg-gray-400/50 hover:dark:bg-zinc-700 hover:rounded-md ".concat(e.startsWith(t.href)?"bg-gray-400/50 dark:bg-zinc-700 rounded-md":""),children:t.title},t.title)),(0,i.jsx)(C,{}),(0,i.jsx)(y.Z,{}),(0,i.jsx)(b,{})]})]})})}},2115:function(e,t,r){"use strict";var a=r(7437),s=r(1396),n=r.n(s);t.Z=e=>{let{href:t,...r}=e,s=t&&t.startsWith("/"),l=t&&t.startsWith("#");return s?(0,a.jsx)(n(),{href:t,...r}):l?(0,a.jsx)("a",{href:t,...r}):(0,a.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:t,...r})}},6914:function(e,t,r){"use strict";var a=r(7437),s=r(2265),n=r(6435),l=r(612),i=r(4135),o=r(3088);t.Z=()=>{let[e,t]=(0,s.useState)(!1),{resolvedTheme:r,theme:c,setTheme:d}=(0,n.F)();return((0,s.useEffect)(()=>t(!0),[]),e)?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{"aria-label":"选择系统主题",onClick:()=>d("system"),className:"p-1 rounded-md ".concat("system"===c?"bg-gray-200 dark:bg-gray-700":""),title:"系统主题",children:(0,a.jsx)(l.Z,{size:18})}),(0,a.jsx)("button",{"aria-label":"切换亮暗模式",onClick:()=>d("dark"===r?"light":"dark"),className:"p-1 rounded-md",title:"dark"===r?"切换到亮色模式":"切换到暗色模式",children:e&&"dark"===r?(0,a.jsx)(i.Z,{size:18}):(0,a.jsx)(o.Z,{size:18})})]}):null}},9103:function(e,t,r){"use strict";var a=r(2601);let s={title:"晓风的博客",author:"张晓风",headerTitle:"晓风的博客",description:"技术探索与分享",language:"zh-CN",theme:"system",siteUrl:"https://xiaofeng.show",siteRepo:"https://github.com/zhangyuliang1994",siteLogo:"/static/images/logo.png",socialBanner:"/static/images/twitter-card.png",email:"zhangyuliang945@gmail.com",github:"https://github.com/zhangyuliang1994",locale:"zh-CN",socialLinks:{github:"https://www.github.com/zhangyuliang1994",mail:"mailto:zhangyuliang9425@gmail.com"},analytics:{umamiAnalytics:{umamiWebsiteId:a.env.NEXT_UMAMI_ID}},newsletter:{provider:"mailchimp"},comments:{provider:"twikoo",twikooConfig:{envId:"https://twikoo.xiaofeng.show/",lang:"zh-CN"},giscusConfig:{repo:a.env.NEXT_PUBLIC_GISCUS_REPO,repositoryId:a.env.NEXT_PUBLIC_GISCUS_REPOSITORY_ID,category:a.env.NEXT_PUBLIC_GISCUS_CATEGORY,categoryId:a.env.NEXT_PUBLIC_GISCUS_CATEGORY_ID,mapping:"pathname",reactions:"1",metadata:"0",theme:"light",darkTheme:"transparent_dark",themeURL:"",lang:"zh-CN"}},search:{provider:"kbar",kbarConfig:{searchDocumentsPath:"search.json"}}};e.exports=s},7881:function(){}},function(e){e.O(0,[216,744],function(){return e(e.s=9837)}),_N_E=e.O()}]);